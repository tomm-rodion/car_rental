"use strict";(self.webpackChunkcar_rental=self.webpackChunkcar_rental||[]).push([[639],{9639:function(e,n,r){r.r(n),r.d(n,{default:function(){return _}});var t,a,i,l,o,c,s,u,p,d=r(3433),f=r(9439),x=r(1774),m=r(8291),g=r(2791),h=r(6023),Z=r(4055),b=r(8040),v=r(1413),j=r(177),k=r(9085),M=r(2940),y=r(168),S=r(6088),C=S.Z.div(t||(t=(0,y.Z)(["\n  display: flex;\n  align-items: flex-end;\n  margin-top: 50px;\n  gap: 8px;\n"]))),F=S.Z.div(a||(a=(0,y.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),P=S.Z.div(i||(i=(0,y.Z)(["\n  display: flex;\n  position: relative;\n  height: 48px;\n"]))),w=S.Z.form(l||(l=(0,y.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),z=S.Z.label(o||(o=(0,y.Z)(["\n  font-size: 14px;\n  color: rgba(138, 138, 137, 1);\n  font-family: 'Manrope';\n  padding-left: 5px;\n  margin-bottom: 8px;\n"]))),I=S.Z.input(c||(c=(0,y.Z)(["\n  display: block;\n  width: 160px;\n  height: 48px;\n  border: none;\n  border-right: 1px solid rgba(138, 138, 137, 0.2);\n  background-color: rgba(247, 247, 251, 1);\n  border-radius: 14px 0 0 14px;\n  padding-left: 0;\n  text-indent: 70px;\n  font-family: 'Manrope';\n  color: rgba(18, 20, 23, 1);\n  font-size: 18px;\n\n  &:focus {\n    outline-color: #3470ff;\n  }\n"]))),E=S.Z.input(s||(s=(0,y.Z)(["\n  display: block;\n  width: 160px;\n  height: 48px;\n  border: none;\n  background-color: rgba(247, 247, 251, 1);\n  border-radius: 0 14px 14px 0;\n  padding-left: 0;\n  text-indent: 45px;\n  font-family: 'Manrope';\n  color: rgba(18, 20, 23, 1);\n  font-size: 18px;\n\n  &:focus {\n    outline-color: #3470ff;\n  }\n"]))),T=S.Z.span(u||(u=(0,y.Z)(["\n  position: absolute;\n  display: block;\n  left: 20px;\n  top: 15px;\n  z-index: 9;\n  font-family: 'Manrope';\n  color: rgba(18, 20, 23, 1);\n  font-size: 18px;\n"]))),$=S.Z.span(p||(p=(0,y.Z)(["\n  position: absolute;\n  display: block;\n  left: 180px;\n  top: 15px;\n  z-index: 9;\n  font-family: 'Manrope';\n  color: rgba(18, 20, 23, 1);\n  font-size: 18px;\n"]))),A=r(3329);function L(e){var n=e.makes,r=e.prices,t=e.onFilterChange,a=(0,g.useState)(""),i=(0,f.Z)(a,2),l=i[0],o=i[1],c=(0,g.useState)(null),s=(0,f.Z)(c,2),u=s[0],p=s[1],d=(0,g.useState)(""),x=(0,f.Z)(d,2),m=x[0],h=x[1],Z=(0,g.useState)(""),b=(0,f.Z)(Z,2),v=b[0],y=b[1],S=(0,g.useState)(""),L=(0,f.Z)(S,2),_=L[0],B=L[1],N=n.map((function(e){return{value:e,label:e}})),R=Array.from({length:48},(function(e,n){var r=30+10*n;return{value:r,label:"".concat(r)}})),U=r.filter((function(e){return e<=u})),X=function(e){return e.toString().replace(/,/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")},Y=function(e,n){n(e.target.value)};return(0,A.jsxs)(C,{children:[(0,A.jsxs)(F,{children:[(0,A.jsx)(z,{htmlFor:"nameSelect",children:"Car brand"}),(0,A.jsx)(j.ZP,{id:"nameSelect",placeholder:"Enter the text",value:l,isClearable:!0,onChange:function(e){return o(e)},options:N,styles:O,components:{IndicatorSeparator:function(){return null}}})]}),(0,A.jsxs)(F,{children:[(0,A.jsx)(z,{htmlFor:"priceSelect",children:"Price / 1 hour"}),(0,A.jsx)(j.ZP,{id:"priceSelect",placeholder:"To $",value:u?{value:u,label:m}:null,onChange:function(e){p(e.value),h(e.label)},options:R,styles:O,components:{IndicatorSeparator:function(){return null}}})]}),(0,A.jsxs)(w,{children:[(0,A.jsx)(z,{children:"Car mileage / km"}),(0,A.jsxs)(P,{children:[(0,A.jsx)(I,{type:"text",value:X(v),onChange:function(e){return Y(e,y)}}),(0,A.jsx)(T,{children:"From"}),(0,A.jsx)(E,{type:"text",value:X(_),onChange:function(e){return Y(e,B)}}),(0,A.jsx)($,{children:"To"})]})]}),(0,A.jsx)(M.Z,{text:"Search",onClick:function(){var e=parseInt(v.replace(/,/g,""),10),n=parseInt(_.replace(/,/g,""),10);if(e>n)k.Am.error("The maximum mileage must exceed the minimum mileage.");else{var r={make:l,filteredPrices:U.map((function(e){return{value:e,label:"".concat(e)}})),minMileage:e,maxMileage:n};t(r)}},width:"135px"})]})}var O={control:function(e){return(0,v.Z)((0,v.Z)({},e),{},{width:"224px",height:"48px",borderColor:"rgba(18, 20, 23, 0.2)",border:"none",borderRadius:"14px",padding:"8px",fontSize:"16px",fontFamily:"Manrope",backgroundColor:"rgba(247, 247, 251, 1)",appearance:"none"})},option:function(e,n){var r=n.isFocused;return(0,v.Z)((0,v.Z)({},e),{},{color:r?"black":"rgba(18, 20, 23, 0.2)",fontFamily:"Manrope"})},placeholder:function(e){return(0,v.Z)((0,v.Z)({},e),{},{color:"rgba(18, 20, 23, 1)"})},dropdownIndicator:function(e,n){return(0,v.Z)((0,v.Z)({},e),{},{transition:"all .2s ease",transform:n.selectProps.menuIsOpen?"rotate(180deg)":null})}};function _(){var e=(0,g.useState)(1),n=(0,f.Z)(e,2),r=n[0],t=n[1],a=(0,g.useState)([]),i=(0,f.Z)(a,2),l=i[0],o=i[1],c=(0,h.Uh)(r),s=c.data,u=c.error,p=c.isLoading,v=c.isFetching,j=(0,h.FP)().data,k=(0,g.useState)({make:"",filteredPrices:[],minMileage:"",maxMileage:""}),M=(0,f.Z)(k,2),y=M[0],S=M[1],C=(0,g.useState)(null),F=(0,f.Z)(C,2),P=F[0],w=F[1],z=(0,g.useState)(!1),I=(0,f.Z)(z,2),E=I[0],T=I[1];(0,g.useEffect)((function(){s&&o((function(e){return[].concat((0,d.Z)(e),(0,d.Z)(s))}))}),[s]),(0,g.useEffect)((function(){if(E)if(y.make||y.filteredPrices.length>0||y.minMileage||y.maxMileage){var e=j.filter((function(e){return(!y.make||e.make===y.make.value)&&(!(y.filteredPrices.length>0&&!y.filteredPrices.some((function(n){return n.value===e.rentalPrice.replace("$","")})))&&(!(y.minMileage&&e.mileage<y.minMileage)&&!(y.maxMileage&&e.mileage>y.maxMileage)))}));w(e)}else w([])}),[y,j,E]);var $=j?(0,d.Z)(new Set(j.map((function(e){return e.make})))):[],O=j?(0,d.Z)(new Set(j.map((function(e){return e.rentalPrice.replace("$","")})))):[],_=j?(0,d.Z)(new Set(j.map((function(e){return e.mileage})))):[],B=Math.min.apply(Math,(0,d.Z)(_)),N=Math.max.apply(Math,(0,d.Z)(_));return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(m.Z,{}),(0,A.jsx)(Z.zY,{children:(0,A.jsx)(L,{makes:$,prices:O,minMileage:B,maxMileage:N,onFilterChange:function(e){S(e),T(!0)},filters:y})}),(0,A.jsxs)(Z.tX,{children:[E?null!==P&&P.length>0?P.map((function(e,n){return(0,A.jsx)(b.Z,{data:e},n)})):(0,A.jsx)("div",{children:"No matches found based on the chosen criteria."}):u?(0,A.jsx)(A.Fragment,{children:"Oops, there was an error..."}):p?(0,A.jsx)(x.a,{}):l.length>0?l.map((function(e,n){return(0,A.jsx)(b.Z,{data:e},n)})):null,!E&&s&&s.length>=12&&(0,A.jsx)(Z.fr,{variant:"text",onClick:function(){t(r+1)},disabled:v,children:"Load more"})]})]})}}}]);
//# sourceMappingURL=639.77d8c6a5.chunk.js.map